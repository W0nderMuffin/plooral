{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/BoardList.vue?abd7","webpack:///./src/App.vue?2caf","webpack:///./src/components/board/sidebar/ElementSelector.vue?1eb1","webpack:///./src/components/Header.vue?b719","webpack:///./src/views/OrganizationList.vue?3a99","webpack:///./src/components/board/Sidebar.vue?60fb","webpack:///./src/views/Board.vue?92c8","webpack:///./src/App.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?cae8","webpack:///./src/components/Header.vue?9bdd","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Board.vue","webpack:///./src/bus/core.ts","webpack:///./src/bus/api.ts","webpack:///./src/bus/service.ts","webpack:///./src/composables/canvas/shapes/stickyNote.ts","webpack:///./src/composables/canvas/index.ts","webpack:///./src/components/board/Sidebar.vue","webpack:///./src/components/board/sidebar/ElementSelector.vue","webpack:///./src/composables/canvas/shapes/colors.ts","webpack:///./src/composables/canvas/shapes/list.ts","webpack:///./src/composables/canvas/shapes/definition.ts","webpack:///./src/components/board/sidebar/ElementSelector.vue?14f0","webpack:///./src/components/board/sidebar/ElementSelector.vue?6606","webpack:///./src/components/board/sidebar/ActionMenu.vue","webpack:///./src/components/board/sidebar/ActionMenu.vue?6181","webpack:///./src/components/board/sidebar/ActionMenu.vue?79c5","webpack:///./src/components/board/Sidebar.vue?ea16","webpack:///./src/composables/api/index.ts","webpack:///./src/views/Board.vue?b5fb","webpack:///./src/views/Board.vue?0a53","webpack:///./src/views/OrganizationList.vue","webpack:///./src/views/OrganizationList.vue?3f61","webpack:///./src/views/OrganizationList.vue?d55d","webpack:///./src/views/BoardList.vue","webpack:///./src/views/BoardList.vue?c760","webpack:///./src/views/BoardList.vue?d21f","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","style","render","__scopeId","components","Header","ref","title","sidebarTitle","boardInfo","clientId","uuid","getBus","componentId","emitter","this","_clientId","type","content","event","getSourceId","emit","handler","on","e","source","split","assign","off","all","target","_source","_content","_timestamp","Date","getTime","onAll","console","log","String","allowedEventTypes","orgSlug","boardSlug","bus","connection","WebSocket","onmessage","forwardToBus","forwardToAPI","onopen","APIAdapter","isPermittedType","isOriginClientTo","msg","send","toJSON","JSON","parse","forward","includes","_type","stringify","init","rectFontSize","rectFontFamily","shapeType","cfg","toGroupConfig","editMode","base","Rect","toRectConfig","text","Text","toTextConfig","setupEditElement","add","setupListeners","stage","getStage","textPosition","getAbsolutePosition","areaPosition","x","container","offsetLeft","y","offsetTop","hide","input","innerText","inputContainer","display","top","left","height","scaleY","padding","width","scaleX","fontSize","lineHeight","fontFamily","textAlign","align","transformOrigin","rotation","transform","focus","error","undefined","trim","show","multiSelect","evt","shiftKey","metaKey","node","ev","cursor","newValue","oldValue","showEditMode","hideEditMode","canvas","document","getElementById","createElement","setAttribute","appendChild","Group","hasName","skewX","bg","children","toArray","find","color","attrs","fill","listening","draggable","verticalAlign","defaultLayer","defaultTransformer","handleCanvasKeyPress","code","destroyTransformerNodes","nodes","handleCanvasKeyUp","handleSelectShape","addTransformerNode","el","setupStage","handleShapeAdded","handleShapeUpdated","handleShapeDestroyed","handleTransformableClicked","handleShapeEditing","addEventListener","Transformer","anchorCornerRadius","enabledAnchors","Layer","setName","Stage","inputDefaultLayer","forEach","nodeFromJSON","draw","tabIndex","deselectTransformerNodes","ondrop","preventDefault","setPointersPositions","dataTransfer","element","getData","stagePos","getPointerPosition","addShape","ondragover","sd","shape","backgroundColor","isOriginTo","destroyNode","shapeData","isSelected","indexOf","concat","moveToTop","destroy","deselectTransformerNode","nodeId","trIdx","findIndex","findOne","stageJSON","json","Node","elements","typeIdx","elementIdx","getElementStyle","setElementSpecs","background","border","shapes","label","list","sType","borderColor","setup","offsetX","offsetY","setData","idx","zIndex","colors","marginLeft","buttons","button","emitClick","ElementSelector","ActionMenu","props","required","apiHost","apiBasePath","apiBaseUrl","client","a","baseURL","getOrganizations","performAPICall","then","resp","getBoards","getBoard","storeBoard","post","Promise","resolve","reject","response","status","fromResponse","Error","catch","err","errors","res","errs","APIResponse","Sidebar","autosaver","board","route","params","toString","saveBoard","setTimeout","clearInterval","val","clientWidth","clientHeight","timestamp","organizations","org","slug","href","boards","routes","path","component","OrganizationList","BoardList","router","history","state","mutations","actions","App","use","store","mount"],"mappings":"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","file":"js/app.59ecbe78.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BoardList.vue?vue&type=style&index=0&id=337c5cbb&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=435c26f3&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ElementSelector.vue?vue&type=style&index=0&id=fa64d2a2&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Header.vue?vue&type=style&index=0&id=4f6b07ba&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrganizationList.vue?vue&type=style&index=0&id=36ffb742&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sidebar.vue?vue&type=style&index=0&id=a4f5a8aa&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board.vue?vue&type=style&index=0&id=7d37810a&lang=scss\"","<template>\n  <div\n    class=\"\n      d-flex\n      h-100\n      flex-column\n    \"\n  >\n    <Header/>\n    <router-view\n      class=\"flex-grow-1\"\n    />\n  </div>\n</template>\n\n<script type=\"ts\">\nimport {defineComponent} from \"vue\";\nimport Header from '@/components/Header.vue'\n\nexport default defineComponent({\n  name: 'Main',\n  components: {\n    Header\n  },\n});\n</script>\n\n<style lang=\"scss\">\n  html, body {\n    margin: 0;\n    height: 100%;\n  }\n\n  #app {\n    height: 100%;\n  }\n</style>","<template>\n  <div\n    id=\"board-header\"\n    class=\"shadow-sm\"\n  >\n    <h1 class=\"d-block\">PLOORAL</h1> <div style=\"margin-left: 1rem\">avoid processes. be productive.</div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({\n  name: \"BoardHeader\"\n})\n</script>\n\n<style lang=\"scss\" scoped>\n  #board-header {\n    min-height: 4rem;\n    color: #1976D2;\n    display: flex;\n    align-items: center;\n    padding-left: 2rem;\n    font-size: 1.5rem;\n    background-color: #F5F5F5;\n  }\n</style>","\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({\n  name: \"BoardHeader\"\n})\n","import { render } from \"./Header.vue?vue&type=template&id=4f6b07ba&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=ts\"\nexport * from \"./Header.vue?vue&type=script&lang=ts\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=4f6b07ba&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4f6b07ba\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=435c26f3\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=435c26f3&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n    <div\n      class=\"\n        d-flex\n      \"\n    >\n      <Sidebar\n        :title=\"sidebarTitle\"\n      />\n      <div\n          id=\"canvas\"\n          ref=\"canvas\"\n          class=\"flex-grow-1\"\n      >\n      </div>\n    </div>\n    <div\n      class=\"board-information\"\n    >\n      {{ boardInfo }}\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref, onMounted, Ref, onBeforeUnmount} from 'vue';\nimport { setup, stageJSON } from '@/composables/canvas'\nimport Sidebar from '@/components/board/Sidebar.vue'\nimport {initBus, getBus, BusEvent} from \"@/bus\";\nimport {useRoute} from \"vue-router\";\nimport {Board, getBoard, storeBoard} from \"@/composables/api\";\n\nconst bus = getBus('board')\n\nexport default defineComponent({\n  name: 'Board',\n  components: {\n    Sidebar\n  },\n  setup() {\n    let autosaver : ReturnType<typeof setTimeout>\n    const canvas = ref<HTMLUnknownElement>()\n    const board = ref<Board>()\n\n    const sidebarTitle = ref<string>('')\n\n    const route = useRoute()\n    const orgSlug:Ref<string> = ref(route.params.orgSlug.toString())\n    const boardSlug:Ref<string> = ref(route.params.boardSlug.toString())\n    const boardInfo = ref<string>()\n\n    const saveBoard = () => {\n      const content = stageJSON()\n      storeBoard(orgSlug.value, boardSlug.value, content)\n          .then(() => {\n            bus.emit('board:autosaved')\n            autosaver = setTimeout(saveBoard, 10000)\n          })\n    }\n\n    onBeforeUnmount(() => {\n      clearInterval(autosaver)\n    })\n\n    onMounted(() => {\n        getBoard(orgSlug.value, boardSlug.value).then(val => {\n          if (canvas.value !== undefined) {\n            board.value = val\n            initBus(orgSlug.value, boardSlug.value)\n            sidebarTitle.value = `${orgSlug.value} > ${board.value.name}`\n            setup('canvas', canvas.value.clientWidth, canvas.value.clientHeight, val.content)\n            autosaver = setTimeout(saveBoard, 10000)\n          }\n        })\n    })\n\n    bus.on('board:autosaved', (ev:BusEvent) => {\n      if (bus.isOriginTo(ev)) {\n        boardInfo.value = `autosaved @${ev.timestamp}`\n      }\n    })\n\n    return {\n      canvas,\n      board,\n      orgSlug,\n      sidebarTitle,\n      boardInfo\n    }\n  },\n\n});\n</script>\n\n<style lang=\"scss\">\n  .board-information {\n    position: absolute;\n    bottom: 1rem;\n    right: 1rem;\n    font-size: 0.75rem;\n    &.fadeout {\n      visibility: hidden;\n      opacity: 0;\n      transition: visibility 0s 2s, opacity 2s linear;\n    }\n  }\n  #canvas {\n    background-color: #FAFAFA;\n    width: 100%;\n    height: 100%;\n\n    [contenteditable] {\n      outline: 0 solid transparent;\n      cursor: text;\n    }\n\n    .centered-text-edit-container {\n      display:flex;\n      align-items: center;\n      justify-content: center;\n      position: absolute;\n      padding: 0;\n      margin: 0;\n      overflow: hidden;\n      background: none;\n      outline: none;\n      &.text {\n        text-align: center;\n        word-break: break-all;\n      }\n    }\n  }\n</style>\n","// TODO: Maybe it would be a nice abstraction when the API interaction hooks in smoothly with the overall emitter in the frontend.\n// An adapter could publish all events to the API and take all events from the API and publish them on the bus\n// source and target might be used to distinguish whether an event was triggered by a component on its own\nimport mitt, {Emitter, EventType} from 'mitt'\nimport {Handler, WildcardHandler} from \"mitt/src/index\";\n\nimport { v4 as uuid } from \"uuid\";\n\n// central instance of the bus\nconst emitter : Emitter = mitt()\n\n// unique identifier for this client\nconst clientId : string = uuid()\n\nexport function getBus(componentId : string) : ComponentBus {\n    return new ComponentBus(emitter, componentId)\n}\n\nexport class ComponentBus {\n    emitter : Emitter\n    componentId : string\n    private readonly _clientId : string\n    constructor(emitter : Emitter, componentId : string) {\n        this.emitter = emitter\n        this.componentId = componentId\n        this._clientId = clientId\n    }\n\n    public emit<T>(type: EventType, content? : T) : void {\n        const event = new BusEvent(this.getSourceId())\n        event.content = content\n        this.emitter.emit(type, event)\n    }\n\n    // simply forwards an event to the bus without altering it\n\n    public forward(type: EventType, event: BusEvent) : void {\n        this.emitter.emit(type, event)\n    }\n    public onAll(handler : WildcardHandler) {\n        this.emitter.on('*', (t,e) => {\n            handler(t,e)\n        })\n    }\n\n    public on(type: EventType, handler: Handler): void {\n        this.emitter.on(type, e => {\n            handler(e)\n        })\n    }\n\n    public isOriginTo(e: BusEvent) : boolean {\n        return typeof e.source !== 'undefined' && this.getSourceId() === e.source\n    }\n\n    public isOriginClientTo(e: BusEvent) : boolean {\n        return typeof e.source !== 'undefined' && this._clientId === e.source.split(':')[0]\n    }\n\n    private getSourceId() {\n        return `${this._clientId}:${this.componentId}`\n    }\n\n    get clientId(): string {\n        return this._clientId;\n    }\n}\n\n// dedicated mixins from the mitt.Emitter itself\nObject.assign(ComponentBus.prototype, emitter.off)\nObject.assign(ComponentBus.prototype, emitter.all)\n\nexport class BusEvent {\n\n    protected _source: string\n    protected _content : any\n    protected _timestamp : number\n\n    public constructor(source : string, content? : any, target? : string) {\n        this._source = source\n        this._content = content\n        this._timestamp = new Date().getTime()\n    }\n\n    get timestamp(): number {\n        return this._timestamp;\n    }\n\n    set timestamp(value: number) {\n        this._timestamp = value;\n    }\n    get content(): any {\n        return this._content;\n    }\n\n    set content(value: any) {\n        this._content = value;\n    }\n\n    get source(): string {\n        return this._source;\n    }\n\n    set source(value: string) {\n        this._source = value;\n    }\n}\n\n// debugging\ngetBus(\"debuglog\").onAll((type, event) => console.log(`event type '${String(type)}' on bus from ${(<BusEvent> event).source}`))","import {EventType} from \"mitt\";\nimport {ComponentBus, getBus, BusEvent} from \"@/bus/core\";\n\nconst componentId = 'api'\n\n// event types which are allowed to be exchanged with the api\nconst allowedEventTypes = [\n    'canvas:shape:added',\n    'canvas:shape:updated',\n    'canvas:shape:destroyed'\n]\n\nexport class APIAdapter {\n    connection : WebSocket\n    bus : ComponentBus\n    orgSlug : string\n    boardSlug : string\n\n    constructor(orgSlug : string, boardSlug : string) {\n        this.orgSlug = orgSlug\n        this.boardSlug = boardSlug\n        this.bus = getBus(componentId)\n        this.connection = new WebSocket(`ws://localhost:8079/api/v1/orgs/${orgSlug}/boards/${boardSlug}/ws?clientId=${this.bus.clientId}`)\n\n        this.connection.onmessage = this.forwardToBus.bind(this)\n\n        this.bus.onAll(this.forwardToAPI.bind(this))\n        this.connection.onopen = (e) => {\n            console.log(\"Successfully connected to the echo websocket server...\")\n        }\n    }\n\n    private forwardToAPI(type: EventType, e?: any) : void {\n        const event = <BusEvent>e\n        // avoid that only valid events will be forwarded to the API and that an event that is on the bus\n        // but not originating from it wont be sent back to the server again.\n        if (!APIAdapter.isPermittedType(type) || !this.bus.isOriginClientTo(event)) {\n            return\n        }\n        console.log(`Forwarding from bus to API with type: '${String(type)}'`)\n        const msg = new WebSocketEvent(String(type), event.source, event.content)\n        this.connection.send(msg.toJSON())\n    }\n\n    private forwardToBus(e : MessageEvent<WebSocketEvent>) : void {\n        // type the WebSocketEvent back to a BusEvent to drop the type\n        const event = <WebSocketEvent> JSON.parse(String(e.data))\n        if (!APIAdapter.isPermittedType(event.type)) {\n            return\n        }\n        if (!this.bus.isOriginClientTo(event)) {\n            console.log(`Forwarding from API to bus with type: '${event.type}'`)\n            this.bus.forward(event.type, <BusEvent> event)\n        }\n    }\n\n    private static isPermittedType(type : EventType) : boolean {\n        return String(type) !== '' && allowedEventTypes.includes(String(type))\n    }\n}\n\nclass WebSocketEvent extends BusEvent {\n    protected _type : string\n\n    public constructor(type : string, source = '', target = '', content = '') {\n        super(source, target, content)\n        this._type = type\n    }\n\n    public toJSON() : string {\n        return JSON.stringify({type: this.type, source: this.source, content : this.content})\n    }\n\n    get type(): string {\n        return this._type;\n    }\n\n    set type(value: string) {\n        this._type = value;\n    }\n}","import {APIAdapter} from \"@/bus/api\";\n\nexport function init(orgSlug : string, boardSlug : string) {\n    // TODO: Init setup is still ugly\n    // instantiate APIAdapter\n    new APIAdapter(orgSlug, boardSlug)\n}","import Konva from \"konva\";\nimport {BusEvent, getBus} from \"@/bus\";\nimport { v4 as uuid } from \"uuid\";\nimport { ref, Ref, UnwrapRef, watch } from 'vue'\n\nconst rectFontSize = 18\nconst rectFontFamily = 'Calibri'\n\nconst shapeType = 'stickyNote'\nconst bus = getBus('canvas')\n\nexport class StickyNote extends Konva.Group {\n    base: Konva.Rect\n    text: Konva.Text\n    inputContainer: HTMLElement | undefined\n    input: HTMLElement | undefined\n    editMode: Ref<UnwrapRef<boolean>> = ref(false)\n\n    constructor(cfg : StickyNoteConfig) {\n        super(toGroupConfig(cfg));\n        this.base = new Konva.Rect(toRectConfig(cfg))\n        this.text = new Konva.Text(toTextConfig(cfg))\n        this.setupEditElement()\n        this.add(this.base)\n        this.add(this.text)\n        this.setupListeners()\n        // if the id is set via the config (i.e. is a recreation via an update) use the given id, otherwise create it\n        this.id((typeof cfg.id !== 'undefined' ? cfg.id : uuid()))\n        if (typeof cfg.editMode !== 'undefined') {\n            this.editMode.value = cfg.editMode\n        }\n    }\n\n    private showEditMode() {\n        // at first find the text's position relative to the stage\n        // TODO: Maybe this could be simplified via events in case the stage container changes its position or gets resized\n        const stage = this.getStage()\n        if (stage === null) {\n            console.error('Stage of sticky note is null. Cannot enable show edit mode.')\n            return\n        }\n        const textPosition = this.text.getAbsolutePosition()\n        const areaPosition = {\n            x: stage.container().offsetLeft + textPosition.x,\n            y: stage.container().offsetTop + textPosition.y,\n        };\n\n        // hide the text layer first\n        this.text.hide()\n        this.input!.innerText = this.text.text()\n        this.inputContainer!.style.display = 'flex'\n        this.inputContainer!.style.top = areaPosition.y + 'px'\n        this.inputContainer!.style.left = areaPosition.x + 'px'\n        this.inputContainer!.style.height = this.text.height()*this.scaleY() - this.text.padding() * 2 +'px'\n        this.inputContainer!.style.width = this.text.width()*this.scaleX() - this.text.padding() * 2 + 'px';\n        this.inputContainer!.style.fontSize = this.text.fontSize()*this.scaleX() + 'px'\n        this.inputContainer!.style.lineHeight = String(this.text.lineHeight())\n        this.inputContainer!.style.fontFamily = this.text.fontFamily()\n        this.inputContainer!.style.textAlign = this.text.align()\n        this.inputContainer!.style.transformOrigin = '0 0'\n        // add rotation to the input in case the shape was transformed / rotated\n        const rotation = this.rotation()\n        if (rotation) {\n            this.inputContainer!.style.transform = 'rotateZ(' + rotation + 'deg)'\n        }\n        this.input!.focus()\n        bus.emit('canvas:shape:editing', this.id())\n    }\n\n    private hideEditMode() {\n        if (this.input !== undefined && String(this.text.text) !== this.input.innerText) {\n            this.text.text(this.input.innerText.trim())\n            bus.emit('canvas:shape:updated', this.toJSON())\n        }\n        this.text.show()\n        this.inputContainer!.style.display = 'none'\n        bus.emit('canvas:shape:lostfocus', this.toJSON())\n        bus.emit('canvas:shape:select', this)\n    }\n\n    private setupListeners() {\n        // Konva events that should be listened to\n        // the text is to upper most layer, if clicked or tapped emit that the whole group was clicked\n        this.text.on('mousedown', e => {\n            const multiSelect = e.evt.shiftKey || e.evt.metaKey;\n            // TODO: Maybe work with generics when emitting events (e.g. BusEvent<T>; BusEvent<TransformableActive>)\n            bus.emit('canvas:transformable:clicked', {node:this, multiSelect: multiSelect})\n        })\n\n        // enable edit mode when double clicked\n        this.text.on('dblclick dbltap', () => this.editMode.value = true)\n\n        // if the canvas stage was clicked hide the edit mode\n        bus.on('canvas:stage:clicked', () => this.editMode.value = false)\n\n        // emit an event that the shape was updated after dragging or transforming\n        this.on('dragend transformend', ev => {\n            bus.emit(\"canvas:shape:updated\", ev.target.toJSON())\n        })\n\n        this.on('mouseenter', (() => {\n            const stage = this.getStage()\n            if (stage !== null) {\n                stage.container().style.cursor = 'pointer'\n            }\n        }).bind(this))\n\n        this.on('mouseleave', (() => {\n            const stage = this.getStage()\n            if (stage !== null) {\n                stage.container().style.cursor = 'default'\n            }\n        }))\n\n        bus.on('canvas:shape:edit', ((ev:BusEvent) => {\n            if (ev.content.id() === this.id()) {\n                this.editMode.value = true\n            }\n        }).bind(this))\n\n        // watch changes on the edit mode property and show or hide the inputs\n        watch(this.editMode, (newValue, oldValue) => {\n            if (newValue && !oldValue) {\n                this.showEditMode()\n            }\n            if (!newValue && oldValue) {\n                this.hideEditMode()\n            }\n        })\n    }\n\n    private setupEditElement() {\n        const canvas = document.getElementById('canvas')\n        if (canvas === null) {\n            console.error('could not get canvas or stage')\n            return\n        }\n        this.inputContainer = document.createElement('div')\n        this.inputContainer.setAttribute('class', 'centered-text-edit-container')\n        this.input = document.createElement('div')\n        this.input.setAttribute('class', 'text')\n        this.input.setAttribute('contenteditable', 'true')\n        this.inputContainer.appendChild(this.input)\n        canvas.appendChild(this.inputContainer)\n    }\n}\n\nexport class StickyNoteConfig {\n    id?: string\n    x?: number\n    y?: number\n    width?: number\n    height?: number\n    color?: string\n    text?: string\n    scaleX?: number\n    scaleY?: number\n    skewX?: number\n    rotation?: number\n    editMode? = false\n\n    constructor(node : Konva.Node) {\n        if (node.hasName('stickyNote')) {\n            this.id = node.id()\n            this.x = node.x()\n            this.y = node.y()\n            this.width = node.width()\n            this.height = node.height()\n            this.scaleX = node.scaleX()\n            this.scaleY = node.scaleY()\n            this.skewX = node.skewX()\n            this.rotation = node.rotation()\n            const bg = node.children.toArray().find(\n                n => n.hasName(shapeType + '.bg')\n            )\n            if (typeof bg != 'undefined') {\n                this.color = bg.attrs.fill\n            }\n            const text = node.children.toArray().find(\n                n => n.hasName(shapeType + '.text')\n            )\n            if (typeof bg != 'undefined') {\n                this.text = text.attrs.text\n            }\n        }\n    }\n}\n\n\nfunction toRectConfig(cfg? : StickyNoteConfig) : Konva.RectConfig {\n    if (typeof cfg === 'undefined') {\n        return {}\n    }\n    return {\n        name: 'stickyNote.bg',\n        width: cfg.width,\n        height: cfg.height,\n        listening: false,\n        fill: cfg.color\n    }\n}\n\nfunction toGroupConfig(cfg? : StickyNoteConfig) : Konva.ContainerConfig {\n    if (typeof cfg === 'undefined') {\n        return {}\n    }\n    return {\n        name: 'stickyNote transformable',\n        x: cfg.x,\n        y: cfg.y,\n        width: cfg.width,\n        height: cfg.height,\n        scaleX: cfg.scaleX,\n        scaleY: cfg.scaleY,\n        skewX: cfg.skewX,\n        rotation: cfg.rotation,\n        draggable: true\n    }\n}\nfunction toTextConfig(cfg? : StickyNoteConfig) : Konva.TextConfig {\n    if (typeof cfg === 'undefined') {\n        return {}\n    }\n    return {\n        name: 'stickyNote.text',\n        text: cfg.text,\n        fontSize: rectFontSize,\n        fontFamily: rectFontFamily,\n        fill: '#000',\n        width: cfg.width,\n        height: cfg.height,\n        align: 'center',\n        verticalAlign: 'middle'\n    }\n}","import Konva from \"konva\";\nimport {getBus, BusEvent as Event, BusEvent} from \"@/bus\";\nimport {StickyNote, StickyNoteConfig} from \"./shapes/stickyNote\"\nimport {ShapeDefintion} from \"@/composables/canvas/shapes\";\n\nconst bus = getBus('canvas')\n\nexport let stage : Konva.Stage\nexport let defaultLayer : Konva.Layer\nlet defaultTransformer : Konva.Transformer\n\nfunction handleCanvasKeyPress(ev : KeyboardEvent) {\n    // delete or backspace key\n    if ((ev.code === 'Backspace' || ev.code === 'Delete')) {\n        destroyTransformerNodes()\n    } else if (ev.code === 'Enter') {\n        if (defaultTransformer.nodes().length == 1) {\n            bus.emit('canvas:shape:edit', defaultTransformer.nodes()[0])\n        }\n    }\n}\n\nfunction handleCanvasKeyUp(ev : KeyboardEvent) {\n    // delete or backspace key\n    if ((ev.code === 'Backspace' || ev.code === 'Delete')) {\n        destroyTransformerNodes()\n    }\n}\n\nfunction handleSelectShape(ev : BusEvent) {\n    addTransformerNode(ev.content)\n}\n\nexport function setup (el: string, width : number, height : number, content? : any) : void {\n    setupStage(el, width, height, content)\n    bus.on('canvas:shape:added', handleShapeAdded)\n    bus.on('canvas:shape:updated', handleShapeUpdated)\n    bus.on('canvas:shape:destroyed', handleShapeDestroyed)\n    bus.on('canvas:transformable:clicked', handleTransformableClicked)\n    bus.on('canvas:shape:select', handleSelectShape)\n    bus.on('canvas:shape:editing', handleShapeEditing)\n    bus.on('canvas:shape:lostfocus', () => stage.content.focus())\n    document.addEventListener('keypress', handleCanvasKeyPress)\n    document.addEventListener('keyup', handleCanvasKeyUp)\n}\n\nfunction setupStage(el: string, width : number, height : number, content? : any) : void {\n    defaultTransformer = new Konva.Transformer({\n        padding: 2,\n        anchorCornerRadius: 1,\n        enabledAnchors: ['top-left', 'top-right', 'bottom-left', 'bottom-right'],\n    })\n    defaultLayer = new Konva.Layer()\n    defaultLayer.setName(\"default\")\n    defaultLayer.add(defaultTransformer)\n    if (!content) {\n        stage = new Konva.Stage({\n            container: el,\n            width: width,\n            height: height\n        })\n        stage.add(defaultLayer)\n    } else {\n        stage = new Konva.Stage({\n            container: el,\n            width: content.attrs.width,\n            height: content.attrs.height\n        })\n        stage.add(defaultLayer)\n        if (content.children.length == 1) {\n            const inputDefaultLayer = content.children[0]\n            inputDefaultLayer.children.forEach((c:Konva.Node) => {\n                const node = nodeFromJSON(JSON.stringify(c))\n                if (typeof node !== 'undefined') {\n                    defaultLayer.add(node)\n                }\n            })\n            defaultLayer.draw()\n        }\n    }\n    // required to bind to keyboard events decently\n    stage.container().tabIndex = 1\n    stage.container().focus()\n\n    stage.on('click tap', (e) => {\n        if (e.target === stage) {\n            deselectTransformerNodes()\n            bus.emit('canvas:stage:clicked')\n            return\n        }\n    })\n\n    // drop actions\n    stage.container().ondrop = (ev: DragEvent) => {\n        ev.preventDefault()\n        stage.setPointersPositions(ev)\n        const data = ev.dataTransfer\n        if (data) {\n            const element = <ShapeDefintion>JSON.parse(data.getData(\"text/plain\"))\n            const stagePos = stage.getPointerPosition()\n            element.x = stagePos!.x - (element.x ? element.x : 0)\n            element.y = stagePos!.y - (element.y ? element.y : 0)\n            addShape(element)\n        }\n    }\n\n    stage.container().ondragover = (ev: DragEvent) => {\n        ev.preventDefault()\n    }\n}\n\nfunction addShape(sd : ShapeDefintion) {\n    let shape : Konva.Shape | Konva.Group\n    switch (sd.type) {\n        case 'stickyNote': {\n            const cfg = {\n                x: sd.x,\n                y: sd.y,\n                width: sd.width,\n                height: sd.height,\n                color: sd.style.backgroundColor,\n                text: 'Text'\n            }\n            shape = new StickyNote(cfg)\n            break\n        }\n        default: {\n            console.error('Could not find correct shape type. No shape added.')\n            return\n        }\n    }\n    defaultLayer.add(shape)\n    defaultLayer.draw()\n    bus.emit(\"canvas:shape:added\", shape)\n}\n\n// TODO: Maybe handle shape added and updated within the same function via `upserted`\n// TODO: Ensure that all events which are received via the API are already parsed as JSON and typed\nfunction handleShapeAdded(event : Event) {\n    if (!bus.isOriginTo(event)) {\n        const node = nodeFromJSON(event.content)\n        defaultLayer.add(node!)\n        defaultLayer.draw()\n    } else {\n        // shape / group was added by the user and should be immediately added / highlighted\n        addTransformerNode(event.content)\n    }\n}\n\nfunction handleShapeUpdated(event : Event) {\n    if (!bus.isOriginTo(event)) {\n        const node = nodeFromJSON(event.content)\n        // destroy previous node\n        destroyNode(node!.attrs.id)\n        defaultLayer.add(node!)\n        defaultLayer.draw()\n    }\n}\n\nfunction handleShapeDestroyed(event : Event) {\n    if (!bus.isOriginTo(event)) {\n        const shapeData = JSON.parse(event.content)\n        destroyNode(shapeData.attrs.id)\n    }\n}\n\nfunction handleTransformableClicked(event : Event) {\n    const node = event.content.node\n    const multiSelect = event.content.multiSelect\n    if (!node.hasName('transformable')) {\n        return;\n    }\n\n    // do we pressed shift or ctrl?\n    const isSelected = defaultTransformer.nodes().indexOf(node) >= 0;\n\n    if (!multiSelect && !isSelected) {\n        // if no key pressed and the node is not selected\n        // select just one\n        defaultTransformer.nodes([node]);\n        defaultTransformer.moveToTop()\n    } else if (multiSelect && isSelected) {\n        // if we pressed keys and node was selected\n        // we need to remove it from selection:\n        const nodes = defaultTransformer.nodes().slice(); // use slice to have new copy of array\n        // remove node from array\n        nodes.splice(nodes.indexOf(node), 1);\n        defaultTransformer.nodes(nodes);\n    } else if (multiSelect && !isSelected) {\n        // add the node into selection\n        const nodes = defaultTransformer.nodes().concat([node]);\n        defaultTransformer.nodes(nodes);\n        defaultTransformer.moveToTop()\n    }\n    defaultLayer.draw();\n}\n\nfunction destroyTransformerNodes() : void {\n    defaultTransformer.nodes().forEach(shape => {\n        shape.destroy()\n        bus.emit('canvas:shape:destroyed', shape.toJSON())\n    })\n    defaultTransformer.nodes([])\n    defaultLayer.draw()\n}\n\nfunction deselectTransformerNodes() {\n    defaultTransformer.nodes([])\n    defaultLayer.draw()\n}\n\nfunction deselectTransformerNode(nodeId : string) {\n    const trIdx = defaultTransformer.nodes().findIndex(value => value.attrs.id === nodeId)\n    if (trIdx >= 0) {\n        const nodes = defaultTransformer.nodes().slice(); // use slice to have new copy of array\n        // remove node from array\n        nodes.splice(trIdx, 1);\n        defaultTransformer.nodes(nodes);\n    }\n}\n\nfunction addTransformerNode(node: Konva.Group | Konva.Shape) : void {\n    defaultTransformer.nodes([node])\n    defaultLayer.draw()\n}\n\nfunction destroyNode(nodeId : string) {\n    deselectTransformerNode(nodeId)\n    defaultLayer.findOne(`#${nodeId}`).destroy()\n    defaultLayer.draw()\n}\n\nfunction handleShapeEditing(event : Event) {\n    deselectTransformerNode(event.content)\n}\n\nexport function stageJSON() : string {\n    return stage.toJSON()\n}\n\nfunction nodeFromJSON(json : string) : Konva.Group | undefined {\n    const node = Konva.Node.create(JSON.parse(json))\n    if (node.hasName('stickyNote')) {\n        const cfg = new StickyNoteConfig(node)\n        return new StickyNote(cfg)\n    } else {\n        return undefined\n    }\n}\n","<template>\n  <div\n      id=\"sidebar\"\n      class=\"\n        d-flex\n        flex-column\n      \"\n  >\n    <div\n      class=\"flex-grow-1\"\n    >\n      <h4>{{ title }}</h4>\n      <ElementSelector/>\n    </div>\n    <div>\n      <ActionMenu/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {defineComponent, toRefs} from \"vue\";\nimport ElementSelector from \"@/components/board/sidebar/ElementSelector\";\nimport ActionMenu from \"@/components/board/sidebar/ActionMenu\";\n\nexport default defineComponent({\n  name: \"Sidebar\",\n  components: {\n    ElementSelector,\n    ActionMenu\n  },\n  props: {\n    title: {\n      type: String,\n      required: true\n    }\n  }\n})\n</script>\n\n<style scoped>\n  h4 {\n    color: #1976D2;\n  }\n  #sidebar {\n    background-color: #F5F5F5;\n    width: 30rem;\n    height: 100%;\n    padding-left: 1rem;\n    padding-right: 1rem;\n    padding-top: 3rem;\n  }\n</style>","<template>\n  <div\n    class=\"\n      d-flex\n      flex-column\n    \"\n  >\n    <div\n        class=\"\n          element-row\n          my-4\n        \"\n        v-for=\"(type, typeIdx) in elements\"\n        :key=\"typeIdx\"\n    >\n      <div\n          v-for=\"(el, elementIdx) in type\"\n          :key=\"elementIdx\"\n          class=\"element\"\n          :class=\"el.class\"\n          :style=\"getElementStyle(elementIdx, el)\"\n          @dragstart=\"(ev) => {setElementSpecs(ev,el)}\"\n          draggable=\"true\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport colors from '@/composables/canvas/shapes/colors'\nimport {list, ShapeDefintion} from '@/composables/canvas/shapes';\n\nexport default defineComponent({\n  name: 'ElementSelector',\n  setup() {\n\n    const elements = list()\n\n    function setElementSpecs(ev : DragEvent, el: ShapeDefintion) {\n      // TODO: Hacky to set it, definitely needs a rework\n      el.x = ev.offsetX\n      el.y = ev.offsetY\n      ev.dataTransfer!.setData(\"text/plain\", JSON.stringify(el))\n    }\n\n    function getElementStyle(idx: number, el: ShapeDefintion) {\n      return {\n        ...el.style,\n        zIndex: colors.length-idx,\n        marginLeft: idx*2 + 'rem'\n      }\n    }\n\n    return {\n      colors,\n      elements,\n      getElementStyle,\n      setElementSpecs,\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n  .element-row {\n    position: relative;\n    width: 100%;\n    height: 6rem;\n    div.element {\n      position: absolute;\n      border: 1px solid;\n      cursor: pointer;\n      transition: 0.2s;\n      &:hover {\n        transform: scale(1.1);\n      }\n    }\n  }\n</style>","export default [\n    {\n        name: 'yellow',\n        background: '#FFFEBA',\n        border: '#ECD76B'\n    },\n    {\n        name: 'green',\n        background: '#CCEB92',\n        border: '#81B972'\n    },\n    {\n        name: 'red',\n        background: '#FFBABA',\n        border: '#EC6B6B'\n    },\n    {\n        name: 'blue',\n        background: '#BADBFF',\n        border: '#6B9AEC'\n    },\n    {\n        name: 'grey',\n        background: '#D8D8D8',\n        border: '#979797'\n    }\n]","import {ShapeDefintion} from \"@/composables/canvas/shapes/definition\";\nimport colorPalette from \"@/composables/canvas/shapes/colors\";\n\nconst shapes : ShapeDefintion[] = [\n    {\n        type: 'stickyNote',\n        label: 'Sticky Note Square',\n        class: 'sticky-note-square',\n        style: {\n            width: '6rem',\n            height: '6rem'\n        },\n        width: 96,\n        height: 96,\n    },\n    {\n        type: 'stickyNote',\n        label: 'Sticky Note Rectangle',\n        class: 'sticky-note-rectangle',\n        style: {\n            width: '12rem',\n            height: '6rem'\n        },\n        width: 192,\n        height: 96,\n    }\n]\n\nexport function list() : ShapeDefintion[][] {\n    const list : ShapeDefintion[][] = []\n    shapes.forEach(s => {\n        const sType: ShapeDefintion[] = []\n        colorPalette.forEach(c => {\n            // deep clone for styles\n            const shape = JSON.parse(JSON.stringify(s))\n            shape.style.backgroundColor = c.background\n            shape.style.borderColor = c.border\n            sType.push(shape)\n        })\n        list.push(sType)\n    })\n    return list\n}\n\n","export class ShapeDefintion {\n    type?: string\n    label?: string\n    class?: string\n    style?: any\n    config?: any\n    x?: number\n    y?: number\n    width?: number\n    height?: number\n}","\nimport {defineComponent} from \"vue\";\nimport colors from '@/composables/canvas/shapes/colors'\nimport {list, ShapeDefintion} from '@/composables/canvas/shapes';\n\nexport default defineComponent({\n  name: 'ElementSelector',\n  setup() {\n\n    const elements = list()\n\n    function setElementSpecs(ev : DragEvent, el: ShapeDefintion) {\n      // TODO: Hacky to set it, definitely needs a rework\n      el.x = ev.offsetX\n      el.y = ev.offsetY\n      ev.dataTransfer!.setData(\"text/plain\", JSON.stringify(el))\n    }\n\n    function getElementStyle(idx: number, el: ShapeDefintion) {\n      return {\n        ...el.style,\n        zIndex: colors.length-idx,\n        marginLeft: idx*2 + 'rem'\n      }\n    }\n\n    return {\n      colors,\n      elements,\n      getElementStyle,\n      setElementSpecs,\n    }\n  }\n});\n","import { render } from \"./ElementSelector.vue?vue&type=template&id=fa64d2a2&scoped=true\"\nimport script from \"./ElementSelector.vue?vue&type=script&lang=ts\"\nexport * from \"./ElementSelector.vue?vue&type=script&lang=ts\"\n\nimport \"./ElementSelector.vue?vue&type=style&index=0&id=fa64d2a2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-fa64d2a2\"\n\nexport default script","<template>\n  <div\n    class=\"\n      d-flex\n      flex-column\n    \"\n  >\n    <button\n      v-for=\"button in buttons\"\n      :key=\"button.id\"\n      @click=\"emitClick(button.id)\"\n    >\n      {{ button.label }}\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport { getBus } from '@/bus'\n\nconst componentId = 'action-menu'\n\nexport default defineComponent({\n  name: 'ActionMenu',\n  setup() {\n    const bus = getBus(componentId)\n\n    const buttons = [\n        {\n          id: \"save\",\n          label: \"Save\"\n        }\n    ]\n\n    function emitClick(el : string) {\n      bus.emit(\"sidebar:action-menu:\" + el)\n    }\n    return {\n      buttons,\n      emitClick\n    }\n  }\n})\n</script>\n\n<style scoped>\n\n</style>","\nimport {defineComponent} from \"vue\";\nimport { getBus } from '@/bus'\n\nconst componentId = 'action-menu'\n\nexport default defineComponent({\n  name: 'ActionMenu',\n  setup() {\n    const bus = getBus(componentId)\n\n    const buttons = [\n        {\n          id: \"save\",\n          label: \"Save\"\n        }\n    ]\n\n    function emitClick(el : string) {\n      bus.emit(\"sidebar:action-menu:\" + el)\n    }\n    return {\n      buttons,\n      emitClick\n    }\n  }\n})\n","import { render } from \"./ActionMenu.vue?vue&type=template&id=391519a0&scoped=true\"\nimport script from \"./ActionMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./ActionMenu.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-391519a0\"\n\nexport default script","import { render } from \"./Sidebar.vue?vue&type=template&id=a4f5a8aa&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=a4f5a8aa&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a4f5a8aa\"\n\nexport default script","import axios, {AxiosResponse} from 'axios'\nimport {Board, Organization} from \"@/composables/api/model\";\n\nconst apiHost = 'http://localhost:8079'\nconst apiBasePath = 'api/v1'\nconst apiBaseUrl = `${apiHost}/${apiBasePath}`\n\nconst client = axios.create({\n    baseURL: apiBaseUrl\n})\n\nexport const getOrganizations = async () : Promise<Organization[]>=> {\n    return performAPICall(client.get('/orgs'))\n        // TODO: No clue on how to get a decent generics typing here to get rid of casting\n        .then((resp ) : Organization[] => {\n            return <Organization[]> resp.data\n        })\n}\n\nexport const getBoards = async (orgSlug : string) : Promise<Board[]> => {\n    return performAPICall(client.get(`/orgs/${orgSlug}/boards`))\n        .then((resp) : Board[] => {\n            return <Board[]> resp.data\n        })\n}\n\nexport const getBoard = async (orgSlug : string, boardSlug : string) : Promise<Board> => {\n    return performAPICall(client.get(`/orgs/${orgSlug}/boards/${boardSlug}`))\n        .then((resp) : Board => {\n            return <Board> resp.data\n        })\n}\n\nexport const storeBoard = async (orgSlug : string, boardSlug : string, content : string) : Promise<Board> => {\n    return performAPICall(client.post(`/orgs/${orgSlug}/boards/${boardSlug}`, content))\n        .then((resp) : Board => {\n            return <Board> resp.data\n        })\n}\n\n\nasync function performAPICall<T>(call: Promise<AxiosResponse>): Promise<APIResponse<T>> {\n    return new Promise<APIResponse<T>>((resolve, reject) => {\n        call\n            .then(response => {\n                if (response.status >= 200 && response.status < 400) {\n                    resolve(APIResponse.fromResponse(response))\n                } else {\n                    const msg = `API communication error. HTTP status code: ${response.status}. Body: ${JSON.stringify(response.data)}`\n                    reject(new Error(msg))\n                }})\n            .catch((err) => {reject(err)}\n            )\n    })\n}\n\nexport class APIResponse<T> {\n    errors: string[]\n    data: T\n    constructor(errors: string[], data: T) {\n        this.errors = errors\n        this.data = data\n    }\n    static fromResponse<T>(res: AxiosResponse): APIResponse<T> {\n        const errs = res.data.errors !== undefined ? res.data.errors : []\n        return new APIResponse<T>(errs, res.data.data)\n    }\n}\n\nexport * from './model'","\nimport {defineComponent, ref, onMounted, Ref, onBeforeUnmount} from 'vue';\nimport { setup, stageJSON } from '@/composables/canvas'\nimport Sidebar from '@/components/board/Sidebar.vue'\nimport {initBus, getBus, BusEvent} from \"@/bus\";\nimport {useRoute} from \"vue-router\";\nimport {Board, getBoard, storeBoard} from \"@/composables/api\";\n\nconst bus = getBus('board')\n\nexport default defineComponent({\n  name: 'Board',\n  components: {\n    Sidebar\n  },\n  setup() {\n    let autosaver : ReturnType<typeof setTimeout>\n    const canvas = ref<HTMLUnknownElement>()\n    const board = ref<Board>()\n\n    const sidebarTitle = ref<string>('')\n\n    const route = useRoute()\n    const orgSlug:Ref<string> = ref(route.params.orgSlug.toString())\n    const boardSlug:Ref<string> = ref(route.params.boardSlug.toString())\n    const boardInfo = ref<string>()\n\n    const saveBoard = () => {\n      const content = stageJSON()\n      storeBoard(orgSlug.value, boardSlug.value, content)\n          .then(() => {\n            bus.emit('board:autosaved')\n            autosaver = setTimeout(saveBoard, 10000)\n          })\n    }\n\n    onBeforeUnmount(() => {\n      clearInterval(autosaver)\n    })\n\n    onMounted(() => {\n        getBoard(orgSlug.value, boardSlug.value).then(val => {\n          if (canvas.value !== undefined) {\n            board.value = val\n            initBus(orgSlug.value, boardSlug.value)\n            sidebarTitle.value = `${orgSlug.value} > ${board.value.name}`\n            setup('canvas', canvas.value.clientWidth, canvas.value.clientHeight, val.content)\n            autosaver = setTimeout(saveBoard, 10000)\n          }\n        })\n    })\n\n    bus.on('board:autosaved', (ev:BusEvent) => {\n      if (bus.isOriginTo(ev)) {\n        boardInfo.value = `autosaved @${ev.timestamp}`\n      }\n    })\n\n    return {\n      canvas,\n      board,\n      orgSlug,\n      sidebarTitle,\n      boardInfo\n    }\n  },\n\n});\n","import { render } from \"./Board.vue?vue&type=template&id=7d37810a\"\nimport script from \"./Board.vue?vue&type=script&lang=ts\"\nexport * from \"./Board.vue?vue&type=script&lang=ts\"\n\nimport \"./Board.vue?vue&type=style&index=0&id=7d37810a&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    class=\"\n      container\n      mt-4\n    \"\n  >\n    <div\n      class=\"row\"\n    >\n      <div class=\"col\">\n        <h1>Organizations</h1>\n      </div>\n    </div>\n    <div\n      class=\"row\"\n    >\n      <div class=\"\n        col-12\n        col-sm-6\n      \">\n        <h3>Please select your organization</h3>\n        <div\n            class=\"\n              list-group\n              mt-4\n            \"\n        >\n          <a\n              v-for=\"org in organizations\"\n              :key=\"org.slug\"\n              :href=\"`/orgs/${org.slug}/boards`\"\n              class=\"list-group-item list-group-item-action\">\n            {{ org.name }}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, Ref, ref} from \"vue\";\nimport {getOrganizations, Organization} from \"@/composables/api\";\n\nexport default defineComponent({\n  name: \"OrganizationList\",\n  setup() {\n    const organizations:Ref<Organization[]> = ref([])\n\n    getOrganizations().then(val => {\n      organizations.value = val\n    })\n    return {\n      organizations\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n  .container {\n    color: #1976D2;\n  }\n</style>","\nimport {defineComponent, Ref, ref} from \"vue\";\nimport {getOrganizations, Organization} from \"@/composables/api\";\n\nexport default defineComponent({\n  name: \"OrganizationList\",\n  setup() {\n    const organizations:Ref<Organization[]> = ref([])\n\n    getOrganizations().then(val => {\n      organizations.value = val\n    })\n    return {\n      organizations\n    }\n  }\n})\n","import { render } from \"./OrganizationList.vue?vue&type=template&id=36ffb742&scoped=true\"\nimport script from \"./OrganizationList.vue?vue&type=script&lang=ts\"\nexport * from \"./OrganizationList.vue?vue&type=script&lang=ts\"\n\nimport \"./OrganizationList.vue?vue&type=style&index=0&id=36ffb742&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-36ffb742\"\n\nexport default script","<template>\n  <div\n      class=\"\n      container\n      mt-4\n    \"\n  >\n    <div\n        class=\"row\"\n    >\n      <div class=\"col\">\n        <h1>Boards</h1>\n      </div>\n    </div>\n    <div\n        class=\"row\"\n    >\n      <div class=\"\n        col-12\n        col-sm-6\n      \">\n        <h3>Please pick a board</h3>\n        <div\n            class=\"\n              list-group\n              mt-4\n            \"\n        >\n          <a\n              v-for=\"board in boards\"\n              :key=\"board.slug\"\n              :href=\"`/orgs/${orgSlug}/boards/${board.slug}`\"\n              class=\"list-group-item list-group-item-action\">\n            {{ board.name }}\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, Ref, ref} from \"vue\";\nimport {getBoards, Board} from \"@/composables/api\";\nimport {useRoute} from \"vue-router\";\n\nexport default defineComponent({\n  name: \"BoardList\",\n  setup() {\n    const route = useRoute()\n\n    const orgSlug:Ref<string> = ref(route.params.orgSlug.toString())\n    const boards:Ref<Board[]> = ref([])\n\n    getBoards(orgSlug.value).then(val => {\n      boards.value = val\n    })\n\n    return {\n      boards,\n      orgSlug\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  color: #1976D2;\n}\n</style>","\nimport {defineComponent, Ref, ref} from \"vue\";\nimport {getBoards, Board} from \"@/composables/api\";\nimport {useRoute} from \"vue-router\";\n\nexport default defineComponent({\n  name: \"BoardList\",\n  setup() {\n    const route = useRoute()\n\n    const orgSlug:Ref<string> = ref(route.params.orgSlug.toString())\n    const boards:Ref<Board[]> = ref([])\n\n    getBoards(orgSlug.value).then(val => {\n      boards.value = val\n    })\n\n    return {\n      boards,\n      orgSlug\n    }\n  }\n})\n","import { render } from \"./BoardList.vue?vue&type=template&id=337c5cbb&scoped=true\"\nimport script from \"./BoardList.vue?vue&type=script&lang=ts\"\nexport * from \"./BoardList.vue?vue&type=script&lang=ts\"\n\nimport \"./BoardList.vue?vue&type=style&index=0&id=337c5cbb&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-337c5cbb\"\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport Board from '../views/Board.vue'\nimport OrganizationList from \"@/views/OrganizationList.vue\";\nimport BoardList from \"@/views/BoardList.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/orgs/:orgSlug/boards/:boardSlug',\n    name: 'Board',\n    component: Board\n  },\n  {\n    path: '/orgs',\n    name: 'OrganizationList',\n    component: OrganizationList\n  },\n  {\n    path: '/orgs/:orgSlug/boards',\n    name: 'BoardList',\n    component: BoardList\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\n// Bootstrap specific imports\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\n// import './app.scss'\n// TODO: Not working\n// $b-custom-control-indicator-size-lg: $custom-control-indicator-size * 1.25 !default;\n\ncreateApp(App)\n    .use(store)\n    .use(router)\n    .mount('#app')\n"],"sourceRoot":""}